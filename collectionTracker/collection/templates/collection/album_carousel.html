{% extends 'base.html' %}
{% load static %}

{% block content %}
    <span>
        show/hide carousel
        <img id="toggle-carousel" src="{% static 'icons/hide.svg' %}" alt="Toggle Carousel" onclick="toggleCarousel()">
    </span>
    
    <div class="carousel-container" id="carousel-container">
        <!-- Album details display -->
        <div class="album-details">
            <h2 id="album-title"></h2>
            <p id="album-artist"></p>
        </div>
        
        <div class="carousel">
            {% for album in albums %}
            <div class="carousel-item" data-title="{{ album.name }}" data-artist="{{ album.artist.name }}">
                <a href="{% url 'album_detail' album.id %}">
                    <img src="{{ album.image_url }}" alt="{{ album.title }}">
                </a>
                <div class="reflection">
                    <img src="{{ album.image_url }}" alt="{{ album.title }}">
                </div>
            </div>
            {% endfor %}
        </div>
        
        <div class="indicators">
            <button class="prev" onclick="moveSlide(-1)">&#10094;</button>
            {% for album in albums %}
            <span class="indicator" onclick="moveSlide({{ forloop.counter0 }} - currentIndex)"></span>
            {% endfor %}
            <button class="next" onclick="moveSlide(1)">&#10095;</button>
        </div>
    </div>

<script src="{% static 'js/imageCarousel.js' %}"></script>
<script>
    function toggleCarousel() {
        const carouselContainer = document.getElementById('carousel-container');
        const toggleIcon = document.getElementById('toggle-carousel');
        if (carouselContainer.style.display === 'none' || carouselContainer.style.display === '') {
            carouselContainer.style.display = 'block';
            toggleIcon.src = '{% static "icons/hide.svg" %}';
        } else {
            carouselContainer.style.display = 'none';
            toggleIcon.src = '{% static "icons/show.svg" %}';
        }
    }
</script>
{% endblock %}
